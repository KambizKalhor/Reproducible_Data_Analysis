# Hmk_08: joins and functions

    Rows: 336,776
    Columns: 19
    $ year           <int> 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…
    $ month          <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
    $ day            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
    $ dep_time       <int> 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, …
    $ sched_dep_time <int> 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, …
    $ dep_delay      <dbl> 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1…
    $ arr_time       <int> 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,…
    $ sched_arr_time <int> 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,…
    $ arr_delay      <dbl> 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1…
    $ carrier        <chr> "UA", "UA", "AA", "B6", "DL", "UA", "B6", "EV", "B6", "…
    $ flight         <int> 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4…
    $ tailnum        <chr> "N14228", "N24211", "N619AA", "N804JB", "N668DN", "N394…
    $ origin         <chr> "EWR", "LGA", "JFK", "JFK", "LGA", "EWR", "EWR", "LGA",…
    $ dest           <chr> "IAH", "IAH", "MIA", "BQN", "ATL", "ORD", "FLL", "IAD",…
    $ air_time       <dbl> 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1…
    $ distance       <dbl> 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, …
    $ hour           <dbl> 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6…
    $ minute         <dbl> 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0…
    $ time_hour      <dttm> 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0…

# Joins

1.  Imagine you’ve found the top 10 most popular destinations using this
    code:

``` r
top_dest <- flights |>
  count(dest, sort = TRUE) |>
  head(10)
glimpse(top_dest)
```

    Rows: 10
    Columns: 2
    $ dest <chr> "ORD", "ATL", "LAX", "BOS", "MCO", "CLT", "SFO", "FLL", "MIA", "D…
    $ n    <int> 17283, 17215, 16174, 15508, 14082, 14064, 13331, 12055, 11728, 97…

How can you find all flights to those destinations? ANSWER :here we can
do this using join function

``` r
select_all_top_dest <- top_dest |>
  inner_join(flights, by= "dest") |>
  select(-n)
glimpse(select_all_top_dest)
```

    Rows: 141,145
    Columns: 19
    $ dest           <chr> "ORD", "ORD", "ORD", "ORD", "ORD", "ORD", "ORD", "ORD",…
    $ year           <int> 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…
    $ month          <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
    $ day            <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
    $ dep_time       <int> 554, 558, 608, 629, 656, 709, 715, 739, 749, 828, 830, …
    $ sched_dep_time <int> 558, 600, 600, 630, 700, 700, 713, 745, 710, 830, 830, …
    $ dep_delay      <dbl> -4, -2, 8, -1, -4, 9, 2, -6, 39, -2, 0, -1, 1, -5, -3, …
    $ arr_time       <int> 740, 753, 807, 824, 854, 852, 911, 918, 939, 1027, 1018…
    $ sched_arr_time <int> 728, 745, 735, 810, 850, 832, 850, 930, 850, 1012, 1015…
    $ arr_delay      <dbl> 12, 8, 32, 14, 4, 20, 21, -12, 49, 15, 3, 3, 13, -11, 7…
    $ carrier        <chr> "UA", "AA", "MQ", "AA", "AA", "UA", "UA", "AA", "MQ", "…
    $ flight         <int> 1696, 301, 3768, 303, 305, 1092, 544, 309, 3737, 905, 3…
    $ tailnum        <chr> "N39463", "N3ALAA", "N9EAMQ", "N3CYAA", "N4WNAA", "N262…
    $ origin         <chr> "EWR", "LGA", "EWR", "LGA", "LGA", "LGA", "EWR", "LGA",…
    $ air_time       <dbl> 150, 138, 139, 140, 143, 135, 156, 137, 148, 160, 137, …
    $ distance       <dbl> 719, 733, 719, 733, 733, 733, 719, 733, 719, 740, 733, …
    $ hour           <dbl> 5, 6, 6, 6, 7, 7, 7, 7, 7, 8, 8, 9, 9, 9, 10, 10, 10, 1…
    $ minute         <dbl> 58, 0, 0, 30, 0, 0, 13, 45, 10, 30, 30, 3, 30, 45, 10, …
    $ time_hour      <dttm> 2013-01-01 05:00:00, 2013-01-01 06:00:00, 2013-01-01 0…

2.  Write a function to ‘rescale’ a numeric vector by subtracting the
    mean of the vector from each element and then dividing each element
    by the standard deviation.

``` r
rescale_numeric_vector <- function(numeric_vector) {
  mean_value <- mean(numeric_vector)
  std_deveation <- sd(numeric_vector)
  output_vector <- (numeric_vector - mean_value) / std_deveation
  
  return(output_vector)
}

# example:
rescale_numeric_vector(c(1,2,3,4,5))
```

    [1] -1.2649111 -0.6324555  0.0000000  0.6324555  1.2649111
